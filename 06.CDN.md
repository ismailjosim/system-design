# ЁЯУж CDN (Content Delivery Network) тАУ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржирзЛржЯ

## ЁЯУМ CDN ржПрж░ ржкрзВрж░рзНржгрж░рзВржк

**CDN = Content Delivery Network**

CDN рж╣рж▓рзЛ рж╕рж╛рж░рж╛ ржмрж┐рж╢рзНржмрзЗ ржЫрзЬрж┐рзЯрзЗ-ржЫрж┐ржЯрж┐рзЯрзЗ (geographically dispersed) ржерж╛ржХрж╛ ржЕржирзЗржХржЧрзБрж▓рзЛ рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ ржПржХржЯрж┐ ржирзЗржЯржУрзЯрж╛рж░рзНржХ, ржпрж╛рж░ ржорзВрж▓ ржЙржжрзНржжрзЗрж╢рзНржп рж╣рж▓рзЛ **Static Content ржжрзНрж░рзБржд ржУ ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржпржнрж╛ржмрзЗ ржЗржЙржЬрж╛рж░рзЗрж░ ржХрж╛ржЫрзЗ ржкрзМржБржЫрзЗ ржжрзЗржУрзЯрж╛**ред

---

## ЁЯУМ CDN ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ

CDN ржорзВрж▓ рж╕рж╛рж░рзНржнрж╛рж░ (Origin Server) ржерзЗржХрзЗ Static Content ржпрзЗржоржи:

* ЁЯЦ╝я╕П Images
* ЁЯОе Videos
* ЁЯОи CSS Files
* ЁЯУЬ JavaScript Files
* ЁЯУД Fonts

ржПрж╕ржм ржХржиржЯрзЗржирзНржЯ **cache ржХрж░рзЗ рж░рж╛ржЦрзЗ** ржПржмржВ ржЗржЙржЬрж╛рж░ ржпржЦржи рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ ржХрж░рзЗ, рждржЦржи ржЗржЙржЬрж╛рж░рзЗрж░ рж╕ржмржЪрзЗрзЯрзЗ ржХрж╛ржЫрзЗрж░ CDN рж╕рж╛рж░рзНржнрж╛рж░ ржерзЗржХрзЗ ржХржиржЯрзЗржирзНржЯ serve ржХрж░рзЗред

ЁЯСЙ ржПрждрзЗ ржХрж░рзЗ latency ржХржорзЗ ржПржмржВ ржУрзЯрзЗржмрж╕рж╛ржЗржЯ ржжрзНрж░рзБржд рж▓рзЛржб рж╣рзЯред

---

## ЁЯУМ CDN ржХрзЗржи ржжрж░ржХрж╛рж░?

ржпржжрж┐ рж╕ржм ржЗржЙржЬрж╛рж░ ржПржХржЯрж╛ржЗ origin server ржерзЗржХрзЗ ржбрж╛ржЯрж╛ ржирзЗрзЯ, рждрж╛рж╣рж▓рзЗ:

* ржжрзВрж░рзЗрж░ ржЗржЙржЬрж╛рж░рзЗрж░ ржЬржирзНржп рж▓рзЛржб ржЯрж╛ржЗржо ржмрзЗрж╢рж┐ рж╣ржмрзЗ
* рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ ржЙржкрж░ ржЕрждрж┐рж░рж┐ржХрзНржд ржЪрж╛ржк ржкрзЬржмрзЗ
* Bandwidth ржЦрж░ржЪ ржмрзЗрзЬрзЗ ржпрж╛ржмрзЗ

CDN ржПржЗ рж╕ржорж╕рзНржпрж╛ржЧрзБрж▓рзЛ рж╕ржорж╛ржзрж╛ржи ржХрж░рзЗред

---

## тЪЩя╕П CDN ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ (Step by Step Workflow)

### ЁЯФБ High-Level Flow

1я╕ПтГг **User A** ржПржХржЯрж┐ image рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ ржХрж░рзЗ (image.png)

ЁЯСЙ ржЗржорзЗржЬ URL рж╕рж╛ржзрж╛рж░ржгржд CDN provider ржПрж░ ржбрзЛржорзЗржЗржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред

**ржЙржжрж╛рж╣рж░ржг:**

* [https://mysite.cloudfront.net/logo.jpg](https://mysite.cloudfront.net/logo.jpg) (Amazon CloudFront)
* [https://mysite.akamai.com/image-manager/img/logo.jpg](https://mysite.akamai.com/image-manager/img/logo.jpg) (Akamai)

---

2я╕ПтГг CDN рж╕рж╛рж░рзНржнрж╛рж░ ржЪрзЗржХ ржХрж░рзЗ ржЗржорзЗржЬржЯрж┐ cache ржП ржЖржЫрзЗ ржХрж┐ржирж╛

* тЭМ ржирж╛ ржерж╛ржХрж▓рзЗ тЖТ Origin Server ржП рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ ржкрж╛ржарж╛рзЯ

---

3я╕ПтГг Origin Server ржЗржорзЗржЬржЯрж┐ CDN рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржкрж╛ржарж╛рзЯ

* рж╕рж╛ржерзЗ ржПржХржЯрж┐ **TTL (Time-To-Live)** HTTP header ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ
* TTL ржмрж▓рзЗ ржжрзЗрзЯ ржХрждржХрзНрж╖ржг ржкрж░рзНржпржирзНржд ржЗржорзЗржЬржЯрж┐ cache ржП ржерж╛ржХржмрзЗ

---

4я╕ПтГг CDN рж╕рж╛рж░рзНржнрж╛рж░:

* ржЗржорзЗржЬржЯрж┐ cache ржХрж░рзЗ
* User A ржХрзЗ ржЗржорзЗржЬржЯрж┐ serve ржХрж░рзЗ

---

5я╕ПтГг **User B** ржПржХржЗ ржЗржорзЗржЬ рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ ржХрж░рзЗ

---

6я╕ПтГг TTL expire ржирж╛ рж╣ржУрзЯрж╛ ржкрж░рзНржпржирзНржд:

* CDN рж╕рж░рж╛рж╕рж░рж┐ cache ржерзЗржХрзЗржЗ ржЗржорзЗржЬ serve ржХрж░рзЗ
* Origin server ржП ржирждрзБржи ржХрж░рзЗ ржпрзЗрждрзЗ рж╣рзЯ ржирж╛

---

## ЁЯЪА CDN ржмрзНржпржмрж╣рж╛рж░рзЗрж░ рж╕рзБржмрж┐ржзрж╛ (Advantages)

тЬЕ **Fast Data Loading**
тЖТ ржЗржЙржЬрж╛рж░рзЗрж░ ржХрж╛ржЫрж╛ржХрж╛ржЫрж┐ рж╕рж╛рж░рзНржнрж╛рж░ ржерзЗржХрзЗ ржбрж╛ржЯрж╛ ржЖрж╕рзЗ

тЬЕ **Reduced Latency**
тЖТ Distance ржХржо рж╣ржУрзЯрж╛рзЯ response time ржХржорзЗ

тЬЕ **Bandwidth Saving**
тЖТ Origin server ржерзЗржХрзЗ ржмрж╛рж░ржмрж╛рж░ ржбрж╛ржЯрж╛ ржкрж╛ржарж╛рждрзЗ рж╣рзЯ ржирж╛

тЬЕ **High Availability & Scalability**
тЖТ Traffic spike рж╣рж▓рзЗржУ CDN handle ржХрж░рждрзЗ ржкрж╛рж░рзЗ

тЬЕ **Better User Experience**
тЖТ Website smoother & faster рж╣рзЯ

---

## тЪая╕П CDN ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ рж╕ржорзЯ ржпрзЗрж╕ржм ржмрж┐рж╖рзЯ Consider ржХрж░рж╛ ржЙржЪрж┐ржд

### ЁЯТ░ 1. Cost

* CDN рж╕рж╛ржзрж╛рж░ржгржд third-party provider ржжрзНржмрж╛рж░рж╛ ржЪрж╛рж▓рж┐ржд
* Data transfer (in/out) ржПрж░ ржЙржкрж░ ржЪрж╛рж░рзНржЬ ржирзЗрзЯ
* ржЦрзБржм ржХржо ржмрзНржпржмрж╣рзГржд asset CDN ржП рж░рж╛ржЦрж▓рзЗ cost ржмрж╛рзЬрзЗ ржХрж┐ржирзНрждрзБ benefit ржХржо

ЁЯУМ **Tip:** Infrequently used assets CDN ржерзЗржХрзЗ ржмрж╛ржж ржжрзЗржУрзЯрж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ

---

### тП│ 2. Cache Expiry (TTL) ржарж┐ржХ ржХрж░рж╛

TTL ржЦрзБржм ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг:

* тЭМ TTL ржмрзЗрж╢рж┐ рж╣рж▓рзЗ тЖТ ржкрзБрж░ржирзЛ (stale) content serve рж╣рждрзЗ ржкрж╛рж░рзЗ
* тЭМ TTL ржХржо рж╣рж▓рзЗ тЖТ ржмрж╛рж░ржмрж╛рж░ origin server ржерзЗржХрзЗ fetch ржХрж░рждрзЗ рж╣ржмрзЗ

ЁЯУМ **Balance ржХрж░рж╛ ржЬрж░рзБрж░рж┐**

---

### ЁЯзп 3. CDN Fallback Strategy

CDN ржХржЦржирзЛ ржХржЦржирзЛ downtime ржП ржпрзЗрждрзЗ ржкрж╛рж░рзЗред рждржЦржи:

* Application ржпрзЗржи detect ржХрж░рждрзЗ ржкрж╛рж░рзЗ
* ржкрзНрж░рзЯрзЛржЬржи рж╣рж▓рзЗ origin server ржерзЗржХрзЗ рж╕рж░рж╛рж╕рж░рж┐ resource ржирж┐рждрзЗ ржкрж╛рж░рзЗ

ЁЯУМ Production-grade apps ржП fallback ржерж╛ржХрж╛ ржЙржЪрж┐ржд

---

### ЁЯФД 4. CDN Cache Invalidation

TTL expire рж╣ржУрзЯрж╛рж░ ржЖржЧрзЗржЗ ржпржжрж┐ content update ржХрж░рждрзЗ рж╣рзЯ, рждржЦржи:

#### тЬЕ Option 1: CDN Invalidation API

* CDN provider ржПрж░ API ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ cache remove ржХрж░рж╛

#### тЬЕ Option 2: Object Versioning (Best Practice)

* URL ржПрж░ рж╕рж╛ржерзЗ version ржпрзЛржЧ ржХрж░рж╛

**ржЙржжрж╛рж╣рж░ржг:**

```
image.png?v=2
```

ЁЯСЙ ржирждрзБржи URL ржорж╛ржирзЗржЗ ржирждрзБржи cache

---

## ЁЯза рж╕ржВржХрзНрж╖рзЗржкрзЗ ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржорждрзЛ ржкрзЯрзЗржирзНржЯ

* CDN рж╢рзБржзрзБржорж╛рждрзНрж░ Static Content ржПрж░ ржЬржирзНржп рж╕ржмржЪрзЗрзЯрзЗ ржХрж╛рж░рзНржпржХрж░
* Dynamic content рж╕рж╛ржзрж╛рж░ржгржд origin server ржерзЗржХрзЗржЗ ржЖрж╕рзЗ
* Large-scale, global user base ржерж╛ржХрж▓рзЗ CDN ржкрзНрж░рж╛рзЯ ржЕржкрж░рж┐рж╣рж╛рж░рзНржп

---

## тЬЕ ржЙржкрж╕ржВрж╣рж╛рж░

CDN ржЖржзрзБржирж┐ржХ ржУрзЯрзЗржм ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗрж░ ржПржХржЯрж┐ ржЕрждрзНржпржирзНржд ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржЕржВрж╢ред ржПржЯрж┐:

* Performance ржмрж╛рзЬрж╛рзЯ
* Cost optimize ржХрж░рзЗ
* User experience ржЙржирзНржиржд ржХрж░рзЗ

ЁЯСЙ Proper configuration ржЫрж╛рзЬрж╛ CDN ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ benefit ржХржорзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ, рждрж╛ржЗ **TTL, cost ржПржмржВ fallback strategy** ржнрж╛рж▓рзЛржнрж╛ржмрзЗ ржкрж░рж┐ржХрж▓рзНржкржирж╛ ржХрж░рж╛ ржЙржЪрж┐рждред

---

ЁЯУШ *Interview / Exam / System Design preparation ржПрж░ ржЬржирзНржп ржПржЗ ржирзЛржЯ ржЦрзБржмржЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг*
